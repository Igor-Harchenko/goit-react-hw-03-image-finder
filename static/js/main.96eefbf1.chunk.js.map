{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","components/Loader/Loader.js","API/Api.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","Spinner","type","color","height","width","timeout","fetchImages","name","page","a","axios","get","response","data","hits","SearchBar","onSubmit","className","s","Searchbar","SearchForm","e","preventDefault","target","elements","searchImage","value","toLowerCase","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","autoComplete","autoFocus","placeholder","Btn","onClick","LoadMore","prototype","PropTypes","func","isRequired","ImageGalleryItem","image","id","webformatURL","tags","ImageGalleryItem__image","src","alt","ImageGallery","images","onSelect","map","Modal","handleKeyDown","code","props","handleBackdropClick","currentTarget","window","addEventListener","this","removeEventListener","Overlay","Component","App","state","selectedImage","status","error","loading","showModal","handleSubmit","setState","handleSelectImg","imageURL","prevState","BtnLoadMore","p","prevProps","gallery","trim","length","toast","scrollTo","top","document","documentElement","scrollHeight","behavior","showBtn","largeImageURL","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.96eefbf1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3Rws1\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__Q5Aka\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2wlC3\",\"Modal\":\"Modal_Modal__3YHYn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoadMore\":\"Button_LoadMore__12djP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__hEy5G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1U4oF\",\"SearchForm\":\"Searchbar_SearchForm__M2uV4\",\"SearchForm__button\":\"Searchbar_SearchForm__button__PIMAW\",\"SearchForm__buttonLabel\":\"Searchbar_SearchForm__buttonLabel__oa8O_\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1wA3K\"};","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nfunction Spinner () {\r\n  return (\r\n    <Loader\r\n      type=\"TailSpin\"\r\n      color=\"#00ff55\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000}      \r\n    />\r\n  );\r\n}\r\n\r\nexport default Spinner;","import axios from \"axios\";\r\n\r\nconst fetchImages = async (name, page) => {\r\n  const URL = \"https://pixabay.com/api\";\r\n  const API_KEY = \"23024944-26babadae282d834971f263ad\";\r\n\r\n  const response = await axios.get(\r\n    `${URL}/?q=${name}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  );\r\n  return response.data.hits;\r\n};\r\n\r\nexport default fetchImages;","import s from './Searchbar.module.css'\r\nimport PropTypes from 'prop-types';\r\n\r\nconst SearchBar = ({ onSubmit }) => {\r\n    const handleSearch = (e) => {\r\n        e.preventDefault()\r\n        onSubmit(e.target.elements.searchImage.value.toLowerCase())\r\n    }\r\n\r\n    return (\r\n        <header className={s.Searchbar}>\r\n            <form className={s.SearchForm} onSubmit={handleSearch} >\r\n                <button className={s.SearchForm__button} type=\"submit\">\r\n                    <span className={s.SearchForm__buttonLabel}>Search</span>\r\n                </button>\r\n\r\n                <input\r\n                    className={s.SearchForm__input}\r\n                    type=\"text\"\r\n                    name='searchImage'\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                />\r\n            </form>\r\n        </header>\r\n    )\r\n};\r\n\r\nSearchBar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nfunction Btn({ onClick }) {\r\n    return (<button className={s.LoadMore} type=\"button\" onClick={onClick}>Загрузить еще...</button>\r\n        )\r\n}\r\n\r\nBtn.prototype = {\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Btn;","import s from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ImageGalleryItem({ image, onClick }) {\r\n    const { id, webformatURL, tags } = image;\r\n\r\n    return (\r\n        <li className={s.ImageGalleryItem} onClick={onClick} key={id}>\r\n            <img className={s.ImageGalleryItem__image} src={webformatURL} alt={tags}/>\r\n        </li>\r\n    )\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    image: PropTypes.object.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onSelect }) => {\r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n            {images.map((image, id) => (\r\n                <ImageGalleryItem key={id} image={image}\r\n                onClick ={()=> onSelect(image)}/>\r\n            ))}\r\n        </ul>\r\n    )\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(PropTypes.object),\r\n    onSelect: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;","import { Component } from \"react\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n    componentDidMount() {\r\n      window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n  \r\n    componentWillUnmount() {\r\n      window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n  \r\n    handleKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n        this.props.onSelect();\r\n      }\r\n    };\r\n  \r\n    handleBackdropClick = e => {\r\n      if (e.currentTarget === e.target) {\r\n        this.props.onSelect();\r\n      }\r\n    };\r\n  \r\n    render() {\r\n      const { src, alt } = this.props;\r\n     return (\r\n        <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n          <div className={s.Modal}>\r\n            <img src={src} alt={alt} />\r\n          </div>\r\n        </div>\r\n    \r\n      );\r\n    }\r\n}\r\n\r\nexport default Modal;","import React, { Component } from \"react\";\nimport Spinner from \"./components/Loader/Loader\";\nimport toast, { Toaster } from \"react-hot-toast\";\n\nimport fetchImages from \"./API/Api\";\nimport SearchBar from \"./components/Searchbar/Searchbar\";\nimport Btn from \"./components/Button/Button\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Modal from \"./components/Modal/Modal\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    page: 1,\n    selectedImage: null,\n    searchImage: null,\n    status: \"free\",\n    error: null,\n    loading: false,\n    showModal: false,\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { searchImage, page } = this.state;\n\n    if (prevState.searchImage !== searchImage || prevState.page !== page) {\n      try {\n        this.setState({ status: \"pending\" });\n        const gallery = await fetchImages(searchImage, page);\n\n        this.setState({ status: \"resolved\" });\n\n        if (searchImage.trim() === \"\" || gallery.length === 0) {\n          return toast.error(`таких картинок нет, попробуй еще`);\n        }\n        this.setState({ images: [...this.state.images, ...gallery] });\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      } catch (error) {\n        this.setState({ status: \"reject\" });\n        toast.error(\"ошибка\");\n      }\n    }\n  }\n\n  handleSubmit = (searchImage) => {\n    this.setState({ searchImage: searchImage, page: 1, images: [] }); //перепроверить\n  };\n\n  handleSelectImg = (imageURL) => {\n    this.setState((prevState) => ({\n      showModal: !prevState.showModal,\n      selectedImage: imageURL,\n    }));\n  };\n\n  BtnLoadMore = () => {\n    this.setState((p) => ({ page: p.page + 1 }));\n  };\n\n  render() {\n    const { images, status, showModal, selectedImage } = this.state;\n    const showBtn = images.length >= 1;\n\n    return (\n      <div>\n        <SearchBar onSubmit={this.handleSubmit} />\n        {status === \"pending\" && <Spinner />}\n        <ImageGallery images={images} onSelect={this.handleSelectImg} />\n        {showBtn && <Btn onClick={this.BtnLoadMore} />}\n        {showModal && (\n          <Modal\n            src={selectedImage.largeImageURL}\n            alt={selectedImage.tags}\n            onSelect={this.handleSelectImg}\n          />\n        )}\n        <Toaster />\n      </div>\n    );\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}