{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","components/Loader/Loader.js","API/Api.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","Spinner","type","color","height","width","timeout","fetchImages","name","page","a","axios","get","response","data","hits","SearchBar","onSubmit","className","s","Searchbar","SearchForm","e","preventDefault","target","elements","searchImage","value","toLowerCase","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","autoComplete","autoFocus","placeholder","Btn","onClick","LoadMore","prototype","PropTypes","func","isRequired","ImageGalleryItem","image","id","webformatURL","tags","ImageGalleryItem__image","src","alt","ImageGallery","images","onSelect","map","Modal","handleKeyDown","code","props","handleBackdropClick","currentTarget","window","addEventListener","this","removeEventListener","Overlay","Component","App","state","selectedImage","status","error","loading","showModal","handleSubmit","setState","handleSelectImg","imageURL","prevState","BtnLoadMore","p","prevProps","gallery","trim","length","toast","scrollTo","top","document","documentElement","scrollHeight","behavior","showBtn","largeImageURL","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.14ca66be.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3Rws1\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__Q5Aka\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2wlC3\",\"Modal\":\"Modal_Modal__3YHYn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoadMore\":\"Button_LoadMore__12djP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__hEy5G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1U4oF\",\"SearchForm\":\"Searchbar_SearchForm__M2uV4\",\"SearchForm__button\":\"Searchbar_SearchForm__button__PIMAW\",\"SearchForm__buttonLabel\":\"Searchbar_SearchForm__buttonLabel__oa8O_\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1wA3K\"};","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nfunction Spinner() {\n  return (\n    <Loader\n      type=\"TailSpin\"\n      color=\"#00ff55\"\n      height={100}\n      width={100}\n      timeout={3000}\n    />\n  );\n}\n\nexport default Spinner;\n","import axios from \"axios\";\n\nconst fetchImages = async (name, page) => {\n  const URL = \"https://pixabay.com/api\";\n  const API_KEY = \"23024944-26babadae282d834971f263ad\";\n\n  const response = await axios.get(\n    `${URL}/?q=${name}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  return response.data.hits;\n};\n\nexport default fetchImages;\n","import s from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst SearchBar = ({ onSubmit }) => {\n  const handleSearch = (e) => {\n    e.preventDefault();\n    onSubmit(e.target.elements.searchImage.value.toLowerCase());\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSearch}>\n        <button className={s.SearchForm__button} type=\"submit\">\n          <span className={s.SearchForm__buttonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchForm__input}\n          type=\"text\"\n          name=\"searchImage\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nfunction Btn({ onClick }) {\n  return (\n    <button className={s.LoadMore} type=\"button\" onClick={onClick}>\n      Загрузить еще...\n    </button>\n  );\n}\n\nBtn.prototype = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Btn;\n","import s from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction ImageGalleryItem({ image, onClick }) {\n  const { id, webformatURL, tags } = image;\n\n  return (\n    <li className={s.ImageGalleryItem} onClick={onClick} key={id}>\n      <img\n        className={s.ImageGalleryItem__image}\n        src={webformatURL}\n        alt={tags}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, onSelect }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map((image, id) => (\n        <ImageGalleryItem\n          key={id}\n          image={image}\n          onClick={() => onSelect(image)}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.object),\n  onSelect: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import { Component } from \"react\";\nimport s from \"./Modal.module.css\";\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onSelect();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onSelect();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n    return (\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={src} alt={alt} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from \"react\";\nimport Spinner from \"./components/Loader/Loader\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport fetchImages from \"./API/Api\";\nimport SearchBar from \"./components/Searchbar/Searchbar\";\nimport Btn from \"./components/Button/Button\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Modal from \"./components/Modal/Modal\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    page: 1,\n    selectedImage: null,\n    searchImage: null,\n    status: \"free\",\n    error: null,\n    loading: false,\n    showModal: false,\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { searchImage, page } = this.state;\n\n    if (prevState.searchImage !== searchImage || prevState.page !== page) {\n      try {\n        this.setState({ status: \"pending\" });\n        const gallery = await fetchImages(searchImage, page);\n\n        this.setState({ status: \"resolved\" });\n\n        if (searchImage.trim() === \"\" || gallery.length === 0) {\n          return toast.error(`таких картинок нет, попробуй еще`);\n        }\n        this.setState({ images: [...this.state.images, ...gallery] });\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      } catch (error) {\n        this.setState({ status: \"reject\" });\n        toast.error(\"ошибка\");\n      }\n    }\n  }\n\n  handleSubmit = (searchImage) => {\n    this.setState({ searchImage: searchImage, page: 1, images: [] }); //перепроверить\n  };\n\n  handleSelectImg = (imageURL) => {\n    this.setState((prevState) => ({\n      showModal: !prevState.showModal,\n      selectedImage: imageURL,\n    }));\n  };\n\n  BtnLoadMore = () => {\n    this.setState((p) => ({ page: p.page + 1 }));\n  };\n\n  render() {\n    const { images, status, showModal, selectedImage } = this.state;\n    const showBtn = images.length >= 1;\n\n    return (\n      <div>\n        <SearchBar onSubmit={this.handleSubmit} />\n        {status === \"pending\" && <Spinner />}\n        <ImageGallery images={images} onSelect={this.handleSelectImg} />\n        {showBtn && <Btn onClick={this.BtnLoadMore} />}\n        {showModal && (\n          <Modal\n            src={selectedImage.largeImageURL}\n            alt={selectedImage.tags}\n            onSelect={this.handleSelectImg}\n          />\n        )}\n        <Toaster />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}