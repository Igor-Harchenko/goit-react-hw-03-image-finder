(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3Rws1",ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__Q5Aka"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2wlC3",Modal:"Modal_Modal__3YHYn"}},28:function(e,t,a){e.exports={LoadMore:"Button_LoadMore__12djP"}},29:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__hEy5G"}},34:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1U4oF",SearchForm:"Searchbar_SearchForm__M2uV4",SearchForm__button:"Searchbar_SearchForm__button__PIMAW",SearchForm__buttonLabel:"Searchbar_SearchForm__buttonLabel__oa8O_",SearchForm__input:"Searchbar_SearchForm__input__1wA3K"}},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),s=(a(34),a(4)),i=a.n(s),l=a(16),u=a(6),m=a(7),h=a(8),d=a(10),p=a(9),b=a(26),g=a.n(b),j=(a(56),a(1));var _=function(){return Object(j.jsx)(g.a,{type:"TailSpin",color:"#00ff55",height:100,width:100,timeout:3e3})},f=a(11),S=a(27),v=a.n(S),y=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://pixabay.com/api","23024944-26babadae282d834971f263ad",e.next=4,v.a.get("".concat("https://pixabay.com/api","/?q=").concat(t,"&page=").concat(a,"&key=").concat("23024944-26babadae282d834971f263ad","&image_type=photo&orientation=horizontal&per_page=12"));case 4:return n=e.sent,e.abrupt("return",n.data.hits);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O=y,x=a(5),I=a.n(x),w=function(e){var t=e.onSubmit;return Object(j.jsx)("header",{className:I.a.Searchbar,children:Object(j.jsxs)("form",{className:I.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.searchImage.value.toLowerCase())},children:[Object(j.jsx)("button",{className:I.a.SearchForm__button,type:"submit",children:Object(j.jsx)("span",{className:I.a.SearchForm__buttonLabel,children:"Search"})}),Object(j.jsx)("input",{className:I.a.SearchForm__input,type:"text",name:"searchImage",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},k=a(2),M=a.n(k),C=a(28),F=a.n(C);function G(e){var t=e.onClick;return Object(j.jsx)("button",{className:F.a.LoadMore,type:"button",onClick:t,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435..."})}G.prototype={onClick:M.a.func.isRequired};var L=G,N=a(14),B=a.n(N);var D=function(e){var t=e.image,a=e.onClick,n=t.id,r=t.webformatURL,c=t.tags;return Object(j.jsx)("li",{className:B.a.ImageGalleryItem,onClick:a,children:Object(j.jsx)("img",{className:B.a.ImageGalleryItem__image,src:r,alt:c})},n)},E=a(29),A=a.n(E),U=function(e){var t=e.images,a=e.onSelect;return Object(j.jsx)("ul",{className:A.a.ImageGallery,children:t.map((function(e,t){return Object(j.jsx)(D,{image:e,onClick:function(){return a(e)}},t)}))})},K=a(15),R=a.n(K),T=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onSelect()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onSelect()},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.src,a=e.alt;return Object(j.jsx)("div",{className:R.a.Overlay,onClick:this.handleBackdropClick,children:Object(j.jsx)("div",{className:R.a.Modal,children:Object(j.jsx)("img",{src:t,alt:a})})})}}]),a}(n.Component),q=T,H=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={images:[],page:1,selectedImage:null,searchImage:null,status:"free",error:null,loading:!1,showModal:!1},e.handleSubmit=function(t){e.setState({searchImage:t,page:1,images:[]})},e.handleSelectImg=function(t){e.setState((function(e){return{showModal:!e.showModal,selectedImage:t}}))},e.BtnLoadMore=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,r=n.searchImage,c=n.page,a.searchImage===r&&a.page===c){e.next=18;break}return e.prev=2,this.setState({status:"pending"}),e.next=6,O(r,c);case 6:if(o=e.sent,this.setState({status:"resolved"}),""!==r.trim()&&0!==o.length){e.next=10;break}return e.abrupt("return",f.b.error("\u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043d\u0435\u0442, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0435\u0449\u0435"));case 10:this.setState({images:[].concat(Object(l.a)(this.state.images),Object(l.a)(o))}),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),this.setState({status:"reject"}),f.b.error("\u043e\u0448\u0438\u0431\u043a\u0430");case 18:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.images,a=e.status,n=e.showModal,r=e.selectedImage,c=t.length>=1;return Object(j.jsxs)("div",{children:[Object(j.jsx)(w,{onSubmit:this.handleSubmit}),"pending"===a&&Object(j.jsx)(_,{}),Object(j.jsx)(U,{images:t,onSelect:this.handleSelectImg}),c&&Object(j.jsx)(L,{onClick:this.BtnLoadMore}),n&&Object(j.jsx)(q,{src:r.largeImageURL,alt:r.tags,onSelect:this.handleSelectImg}),Object(j.jsx)(f.a,{})]})}}]),a}(n.Component);o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(H,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.96eefbf1.chunk.js.map